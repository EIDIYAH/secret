<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>العيدية السرية ١٤٤٧</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Readex+Pro:wght@200;300;400;500;600;700&family=IBM+Plex+Sans+Arabic:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --cream:   #FAF4E8;
  --cream2:  #F3EAD6;
  --cream3:  #EAE0C8;
  --rose:    #C06060;
  --rose2:   #D4807A;
  --rose-lt: #F0D8D4;
  --sage:    #7A9E7A;
  --sage-lt: #D4E8D0;
  --gold:    #C4912A;
  --gold-lt: #F0D898;
  --brown:   #5A3020;
  --brown2:  #7A4830;
  --muted:   #9A7860;
  --muted2:  #BFA898;
  --white:   #FFFDF8;

  /* icon swatches — warm palette */
  --ic1: #C06060;   /* rose */
  --ic2: #7A9E7A;   /* sage */
  --ic3: #C4912A;   /* gold */
  --ic4: #8A70B8;   /* lavender */
  --ic5: #5898C8;   /* sky */
  --ic6: #D4807A;   /* blush */
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body {
  font-family:'IBM Plex Sans Arabic', sans-serif;
  background:var(--cream);
  color:var(--brown);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* ── SCREENS ── */
.screen { display:none; }
.screen.active { display:block; }
#screen-select.active, #screen-pin.active,
#screen-roulette.active, #screen-reveal.active {
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  min-height:100vh; padding:2rem 1.5rem;
}

/* ── SCROLL REVEAL ── */
.reveal {
  opacity:0; transform:translateY(30px);
  transition:opacity .85s cubic-bezier(.16,1,.3,1), transform .85s cubic-bezier(.16,1,.3,1);
}
.reveal.visible { opacity:1; transform:none; }
.d1{transition-delay:.1s} .d2{transition-delay:.2s}
.d3{transition-delay:.3s} .d4{transition-delay:.4s}

/* ══════════ NAV ══════════ */
.nav {
  position:fixed; top:0; left:0; right:0; z-index:100;
  padding:1rem 2rem;
  display:flex; align-items:center; justify-content:space-between;
  transition:background .4s, box-shadow .4s;
}
.nav.solid {
  background:rgba(250,244,232,.92);
  backdrop-filter:blur(16px);
  box-shadow:0 1px 0 rgba(90,48,32,.08);
}
.nav-logo {
  font-family:'Readex Pro',sans-serif;
  font-size:.9rem; font-weight:400; color:var(--muted);
}


/* ══════════ HERO ══════════ */
.hero {
  min-height:100vh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  text-align:center;
  padding:9rem 1.5rem 6rem;
  position:relative; overflow:hidden;
  background:var(--cream);
}

/* Subtle pattern */
.hero::before {
  content:''; position:absolute; inset:0;
  background-image:radial-gradient(circle, rgba(192,96,96,.07) 1.5px, transparent 1.5px);
  background-size:28px 28px;
  pointer-events:none;
}

.hero-tag {
  font-family:'Readex Pro',sans-serif;
  font-size:.7rem; font-weight:400; letter-spacing:.3em;
  text-transform:uppercase; color:var(--rose); margin-bottom:1.75rem;
}

.hero-h1 {
  font-family:'Readex Pro',sans-serif;
  font-size:clamp(3rem,13vw,8.5rem);
  font-weight:700; line-height:1.0;
  letter-spacing:-.02em; color:var(--brown);
  margin-bottom:1.25rem;
}
.hero-h1 span { color:var(--rose); display:block; }

.hero-sub {
  font-size:clamp(.9rem,2vw,1.1rem); font-weight:300;
  color:var(--muted); letter-spacing:.04em; margin-bottom:3rem;
}

.btn-hero {
  background:var(--rose); color:var(--white);
  font-family:'IBM Plex Sans Arabic',sans-serif;
  font-size:1rem; font-weight:700;
  padding:1rem 3rem; border-radius:50px; border:none; cursor:pointer;
  transition:transform .25s, box-shadow .25s;
  box-shadow:0 8px 28px rgba(192,96,96,.35);
}
.btn-hero:hover { transform:scale(1.05); box-shadow:0 12px 36px rgba(192,96,96,.45); }

.scroll-cue {
  position:absolute; bottom:2.5rem; left:50%; transform:translateX(-50%);
  display:flex; flex-direction:column; align-items:center; gap:.5rem;
  color:var(--muted2); font-size:.7rem; letter-spacing:.15em;
  font-family:'Readex Pro',sans-serif;
}
.scroll-line {
  width:1px; height:50px;
  background:linear-gradient(to bottom, var(--rose), transparent);
  animation:scue 2s ease-in-out infinite;
}
@keyframes scue {
  0%,100%{opacity:.3;transform:scaleY(.6);transform-origin:top}
  50%{opacity:.8;transform:scaleY(1)}
}

/* Hero botanical decorations — positioned absolutely */
.hero-deco { position:absolute; pointer-events:none; }

/* ══════════ SCROLL ARROW ══════════ */
.scroll-arrow {
  display:flex; justify-content:center; align-items:center;
  padding:2rem 0 1rem; background:inherit;
}
.scroll-arrow svg {
  animation:arrow-bob 1.8s ease-in-out infinite;
}
@keyframes arrow-bob {
  0%,100% { transform:translateY(0); opacity:.35; }
  50%      { transform:translateY(8px); opacity:.8; }
}

/* ══════════ BAND ══════════ */
.band {
  background:var(--cream2);
  border-top:1px solid rgba(192,96,96,.12);
  border-bottom:1px solid rgba(192,96,96,.12);
  padding:5rem 1.5rem;
  position:relative; overflow:hidden;
}
.band-inner { max-width:900px; margin:0 auto; }
.band-label {
  font-family:'Readex Pro',sans-serif;
  font-size:.68rem; font-weight:400; letter-spacing:.3em;
  text-transform:uppercase; color:var(--rose); margin-bottom:2rem;
}
.band-grid {
  display:grid; grid-template-columns:repeat(3,1fr);
  gap:1px; background:rgba(90,48,32,.08);
  border-radius:22px; overflow:hidden;
}
.band-item {
  background:var(--white);
  padding:2rem 1.75rem; transition:background .3s;
}
.band-item:hover { background:rgba(192,96,96,.04); }

.ficon {
  width:48px; height:48px; border-radius:14px;
  display:flex; align-items:center; justify-content:center;
  margin-bottom:1.2rem;
}
.band-k {
  font-family:'Readex Pro',sans-serif;
  font-size:.65rem; letter-spacing:.18em; color:var(--muted2);
  text-transform:uppercase; margin-bottom:.4rem;
}
.band-v { font-size:1rem; font-weight:600; color:var(--brown); line-height:1.3; }

/* ══════════ BUDGET ══════════ */
.ch-budget {
  min-height:90vh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  text-align:center; padding:6rem 1.5rem;
  background:var(--cream); position:relative; overflow:hidden;
}
.ch-budget::before {
  content:''; position:absolute; inset:0;
  background:radial-gradient(ellipse 70% 50% at 50% 50%, rgba(196,145,42,.08) 0%, transparent 70%);
  pointer-events:none;
}
.ch-tag {
  font-family:'Readex Pro',sans-serif;
  font-size:.68rem; font-weight:400; letter-spacing:.3em;
  text-transform:uppercase; color:var(--gold); margin-bottom:1.5rem;
}
.b-big {
  font-family:'Readex Pro',sans-serif;
  font-size:clamp(6rem,24vw,15rem); font-weight:700;
  line-height:.9; letter-spacing:-.04em;
  color:var(--gold); margin-bottom:.5rem;
}
.b-unit {
  font-family:'Readex Pro',sans-serif;
  font-size:clamp(1.4rem,4vw,2.8rem); font-weight:200;
  color:rgba(196,145,42,.55); letter-spacing:.05em; margin-bottom:2.5rem;
}
.b-pills { display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap; }
.b-pill {
  border:1px solid rgba(196,145,42,.3); border-radius:50px;
  padding:.5rem 1.3rem; font-size:.85rem; font-weight:300; color:var(--muted);
  background:rgba(196,145,42,.06);
}
.b-note {
  margin-top:1.75rem; font-size:.85rem; font-weight:300; color:var(--muted);
  max-width:340px; line-height:1.85; text-align:center;
}

/* ══════════ FLORAL DIVIDER ══════════ */
.floral-divider {
  width:100%; display:flex; align-items:center; justify-content:center;
  gap:1rem; padding:1rem 0;
}
.fdiv-line {
  flex:1; max-width:120px; height:1px;
  background:linear-gradient(to right, transparent, rgba(192,96,96,.3));
}
.fdiv-line.rev {
  background:linear-gradient(to left, transparent, rgba(192,96,96,.3));
}

/* ══════════ RULES ══════════ */
.ch-rules { background:var(--cream2); padding:6rem 1.5rem; }
.ch-rules-in { max-width:820px; margin:0 auto; }
.ch-head { text-align:center; margin-bottom:4.5rem; }
.ch-head-tag {
  font-family:'Readex Pro',sans-serif;
  font-size:.68rem; letter-spacing:.3em; text-transform:uppercase;
  color:var(--rose); margin-bottom:1rem;
}
.ch-head-h {
  font-family:'Readex Pro',sans-serif;
  font-size:clamp(1.9rem,5.5vw,3.2rem); font-weight:700;
  line-height:1.1; color:var(--brown);
}

.rrow {
  display:flex; align-items:flex-start; gap:1.25rem;
  padding:2rem 0; border-top:1px solid rgba(90,48,32,.08);
  transition:border-color .3s;
}
.rrow:hover { border-color:rgba(192,96,96,.25); }
.rrow:last-child { border-bottom:1px solid rgba(90,48,32,.08); }
.rn {
  font-family:'Readex Pro',sans-serif; font-size:.78rem;
  font-weight:200; color:var(--rose); min-width:2rem; padding-top:.25rem;
}
.rc { flex:1; }
.rh { font-size:1rem; font-weight:600; color:var(--brown); margin-bottom:.4rem; line-height:1.3; }
.rp { font-size:.86rem; font-weight:300; color:var(--muted); line-height:1.85; }

.chips { display:flex; flex-wrap:wrap; gap:.4rem; margin-top:.6rem; }
.chip { border-radius:50px; padding:.22rem .85rem; font-size:.76rem; font-weight:500; }
.chip.no  { background:rgba(192,96,96,.08); color:var(--rose); }
.chip.yes { background:rgba(122,158,122,.12); color:var(--sage); }

/* ══════════ CLOSE ══════════ */
.ch-close {
  min-height:80vh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  text-align:center; padding:6rem 1.5rem;
  background:var(--cream); position:relative; overflow:hidden;
}
.close-q {
  font-family:'Readex Pro',sans-serif;
  font-size:clamp(1.3rem,3.5vw,2.3rem); font-weight:300;
  line-height:1.85; color:var(--brown); max-width:540px; margin-bottom:.85rem;
}
.close-n { font-size:.88rem; font-weight:300; color:var(--muted); margin-bottom:3rem; }

/* ══════════ SHARED BTN ══════════ */
.btn {
  background:var(--rose); color:var(--white);
  font-family:'IBM Plex Sans Arabic',sans-serif;
  font-size:1.05rem; font-weight:700;
  padding:1rem 2.75rem; border-radius:50px; border:none; cursor:pointer;
  transition:transform .25s, box-shadow .25s;
  box-shadow:0 8px 28px rgba(192,96,96,.3);
  width:100%; max-width:380px; display:block;
}
.btn:hover { transform:scale(1.04); box-shadow:0 12px 36px rgba(192,96,96,.42); }
.btn.sm { max-width:280px; font-size:.98rem; padding:.9rem 2rem; }
.btn-ghost {
  background:none; border:1px solid rgba(90,48,32,.18);
  color:var(--muted); border-radius:50px; padding:.65rem 2rem;
  font-family:'IBM Plex Sans Arabic',sans-serif;
  font-size:.88rem; cursor:pointer; font-weight:400;
  transition:border-color .2s, color .2s;
}
.btn-ghost:hover { border-color:var(--rose); color:var(--rose); }

/* ══════════ SELECT ══════════ */
#screen-select { background:var(--cream); gap:0; }
.sel-top { text-align:center; margin-bottom:2.5rem; }
.sel-top h2 {
  font-family:'Readex Pro',sans-serif;
  font-size:2.2rem; font-weight:700; color:var(--brown); margin-bottom:.4rem;
}
.sel-top p { font-size:.88rem; font-weight:300; color:var(--muted); }
.names-grid {
  display:grid; grid-template-columns:repeat(3,1fr);
  gap:.6rem; width:100%; max-width:480px;
}
.name-btn {
  background:var(--rose); color:var(--white); border:none; border-radius:12px;
  padding:1.1rem .5rem;
  font-family:'IBM Plex Sans Arabic',sans-serif;
  font-size:1.05rem; font-weight:700; cursor:pointer;
  transition:transform .2s, opacity .2s;
  box-shadow:0 4px 14px rgba(192,96,96,.25);
}
.name-btn:hover { transform:translateY(-3px); opacity:.88; }

/* ══════════ PIN ══════════ */
#screen-pin { background:var(--cream); }
.pin-card {
  background:var(--white); border:1px solid rgba(90,48,32,.1);
  border-radius:28px; padding:2.75rem 2.25rem; max-width:360px; width:100%;
  text-align:center;
  box-shadow:0 20px 60px rgba(90,48,32,.12), 0 0 0 1px rgba(192,96,96,.06);
  position:relative; overflow:hidden;
}
.pin-card::before {
  content:''; position:absolute; top:0; left:15%; right:15%; height:3px;
  background:linear-gradient(90deg, transparent, var(--rose), transparent);
  opacity:.5;
}
.pin-greet {
  font-family:'Readex Pro',sans-serif; font-size:.7rem; letter-spacing:.25em;
  text-transform:uppercase; color:var(--rose); margin-bottom:.3rem;
}
.pin-name { font-family:'Readex Pro',sans-serif; font-size:2.6rem; font-weight:700; color:var(--brown); margin-bottom:.75rem; }
.pin-inst { font-size:.87rem; font-weight:300; color:var(--muted); line-height:1.75; margin-bottom:1.75rem; }
.pin-row { display:flex; gap:.6rem; justify-content:center; margin-bottom:1.25rem; }
.pin-d {
  width:58px; height:68px;
  background:var(--cream2); border:1.5px solid rgba(90,48,32,.1);
  border-radius:14px; text-align:center;
  font-family:'Readex Pro',sans-serif; font-size:1.9rem; font-weight:700; color:var(--brown);
  outline:none; caret-color:var(--rose); transition:border-color .2s, background .2s;
}
.pin-d:focus { border-color:var(--rose); background:rgba(192,96,96,.04); }
.pin-err { color:var(--rose); font-size:.83rem; font-weight:500; min-height:1.2rem; margin-bottom:1rem; }
@keyframes shake {
  0%,100%{transform:translateX(0)} 20%{transform:translateX(-9px)}
  40%{transform:translateX(9px)} 60%{transform:translateX(-6px)} 80%{transform:translateX(6px)}
}
.shake { animation:shake .4s ease; }

/* ══════════ ROULETTE ══════════ */
#screen-roulette { background:var(--cream); gap:2.5rem; position:relative; overflow:hidden; }
#screen-roulette::before {
  content:''; position:absolute; inset:0;
  background:radial-gradient(ellipse 60% 60% at 50% 50%, rgba(192,96,96,.06) 0%, transparent 70%);
  pointer-events:none;
}
#screen-roulette h2 {
  font-family:'Readex Pro',sans-serif; font-size:2.2rem; font-weight:700; color:var(--brown);
  position:relative;
}
.wheel-outer { position:relative; width:270px; height:270px; flex-shrink:0; }
.wring { position:absolute; inset:0; border-radius:50%; border:1.5px solid rgba(192,96,96,.2); }
.wring.r2 { inset:16px; border-style:dashed; border-color:rgba(196,145,42,.25); }
.wcenter {
  position:absolute; inset:38px;
  background:var(--white); border:1.5px solid rgba(90,48,32,.1);
  border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 8px 32px rgba(90,48,32,.1);
}
.wtext {
  font-family:'Readex Pro',sans-serif; font-size:2.1rem; font-weight:700;
  color:var(--brown); text-align:center; padding:.5rem;
}
.orbit-dot {
  position:absolute; width:11px; height:11px;
  background:var(--rose); border-radius:50%;
  box-shadow:0 0 10px rgba(192,96,96,.6);
}
.spin-lbl {
  font-family:'Readex Pro',sans-serif; font-size:.72rem; letter-spacing:.25em;
  text-transform:uppercase; color:var(--muted);
  animation:blink 1.4s ease-in-out infinite;
}
@keyframes blink { 0%,100%{opacity:.3} 50%{opacity:.85} }

/* ══════════ REVEAL ══════════ */
#screen-reveal { background:var(--cream); position:relative; overflow:hidden; }
#screen-reveal::before {
  content:''; position:absolute; inset:0;
  background:radial-gradient(ellipse 70% 60% at 50% 40%, rgba(192,96,96,.06) 0%, transparent 65%);
  pointer-events:none;
}
.rev-wrap { max-width:400px; width:100%; text-align:center; position:relative; z-index:1; }
.rev-label {
  font-family:'Readex Pro',sans-serif; font-size:.68rem; letter-spacing:.28em;
  text-transform:uppercase; color:var(--rose); margin-bottom:2rem;
}
.rev-card {
  background:var(--white); border:1px solid rgba(90,48,32,.1); border-radius:28px;
  padding:2.5rem 2rem; margin-bottom:1.25rem;
  animation:pop .6s cubic-bezier(.34,1.56,.64,1);
  position:relative; overflow:hidden;
  box-shadow:0 16px 50px rgba(90,48,32,.1);
}
.rev-card::before {
  content:''; position:absolute; top:0; left:20%; right:20%; height:3px;
  background:linear-gradient(90deg, transparent, var(--rose), transparent); opacity:.5;
}
@keyframes pop { from{opacity:0;transform:scale(.82) translateY(20px)} to{opacity:1;transform:none} }
.rl { font-size:.7rem; letter-spacing:.18em; text-transform:uppercase; color:var(--muted2); margin-bottom:.3rem; }
.rself { font-size:1.6rem; font-weight:300; color:var(--muted); margin-bottom:1.5rem; }
.rarrow { display:block; margin:0 auto 1.5rem; animation:bounce 1.5s ease-in-out infinite; }
@keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(8px)} }
.rname { font-family:'Readex Pro',sans-serif; font-size:3.5rem; font-weight:700; line-height:1.05; color:var(--rose); margin-bottom:1.5rem; }
.rhint { padding-top:1.25rem; border-top:1px solid rgba(90,48,32,.07); font-size:.84rem; font-weight:300; color:var(--muted); line-height:1.8; }

.confetti-wrap { position:fixed; inset:0; pointer-events:none; z-index:50; }
.piece { position:absolute; top:-14px; animation:fall linear forwards; }
@keyframes fall { to{transform:translateY(110vh) rotate(720deg);opacity:0} }

@media (max-width:600px) {
  .band-grid { grid-template-columns:1fr; }
  .names-grid { grid-template-columns:repeat(2,1fr); max-width:300px; }
  .wheel-outer { width:230px; height:230px; }
  .wcenter { inset:30px; }
  .pin-d { width:50px; height:60px; font-size:1.6rem; }
}
</style>
</head>
<body>

<!-- ══════════════════════ SCREEN 1: INFO ══════════════════════ -->
<div class="screen active" id="screen-info">

  <nav class="nav" id="nav">
    <span class="nav-logo">العيدية السرية</span>
  </nav>

  <!-- ─── HERO ─── -->
  <section class="hero">

    <!-- Top floral arch SVG -->
    <svg class="hero-deco" style="top:0;left:0;right:0;width:100%;max-height:280px" viewBox="0 0 800 260" fill="none" preserveAspectRatio="xMidYMin slice">
      <!-- Left vine -->
      <path d="M0 260 C40 200, 80 180, 120 140 C160 100, 180 70, 200 20" stroke="#7A9E7A" stroke-width="2" fill="none" opacity=".4"/>
      <!-- Right vine -->
      <path d="M800 260 C760 200, 720 180, 680 140 C640 100, 620 70, 600 20" stroke="#7A9E7A" stroke-width="2" fill="none" opacity=".4"/>
      <!-- Left flowers -->
      <circle cx="130" cy="130" r="12" fill="#C06060" opacity=".5"/>
      <circle cx="130" cy="130" r="6" fill="#FAF4E8" opacity=".8"/>
      <circle cx="100" cy="170" r="9" fill="#C4912A" opacity=".5"/>
      <circle cx="155" cy="95" r="7" fill="#7A9E7A" opacity=".55"/>
      <circle cx="75" cy="210" r="10" fill="#D4807A" opacity=".45"/>
      <circle cx="50" cy="235" r="6" fill="#C06060" opacity=".4"/>
      <circle cx="180" cy="55" r="8" fill="#C06060" opacity=".45"/>
      <!-- Left leaves -->
      <ellipse cx="115" cy="155" rx="9" ry="5" fill="#7A9E7A" opacity=".45" transform="rotate(-30 115 155)"/>
      <ellipse cx="145" cy="115" rx="8" ry="4" fill="#7A9E7A" opacity=".4" transform="rotate(20 145 115)"/>
      <ellipse cx="85" cy="195" rx="10" ry="5" fill="#7A9E7A" opacity=".4" transform="rotate(-50 85 195)"/>
      <!-- Right flowers -->
      <circle cx="670" cy="130" r="12" fill="#D4807A" opacity=".5"/>
      <circle cx="670" cy="130" r="6" fill="#FAF4E8" opacity=".8"/>
      <circle cx="700" cy="170" r="9" fill="#C06060" opacity=".5"/>
      <circle cx="645" cy="95" r="7" fill="#C4912A" opacity=".55"/>
      <circle cx="725" cy="210" r="10" fill="#7A9E7A" opacity=".4"/>
      <circle cx="750" cy="235" r="6" fill="#D4807A" opacity=".4"/>
      <circle cx="620" cy="55" r="8" fill="#C06060" opacity=".45"/>
      <!-- Right leaves -->
      <ellipse cx="685" cy="155" rx="9" ry="5" fill="#7A9E7A" opacity=".45" transform="rotate(30 685 155)"/>
      <ellipse cx="655" cy="115" rx="8" ry="4" fill="#7A9E7A" opacity=".4" transform="rotate(-20 655 115)"/>
      <ellipse cx="715" cy="195" rx="10" ry="5" fill="#7A9E7A" opacity=".4" transform="rotate(50 715 195)"/>
      <!-- Center bow -->
      <path d="M360 18 C340 8, 320 16, 330 28 C338 36, 355 30, 360 18Z" fill="#C06060" opacity=".55"/>
      <path d="M440 18 C460 8, 480 16, 470 28 C462 36, 445 30, 440 18Z" fill="#C06060" opacity=".55"/>
      <circle cx="400" cy="22" r="8" fill="#C06060" opacity=".6"/>
      <path d="M360 22 Q380 40 400 30 Q420 40 440 22" stroke="#C06060" stroke-width="2" fill="none" opacity=".4"/>
      <!-- Stars scattered -->
      <path d="M250 40 L252 46 L258 46 L253 50 L255 56 L250 52 L245 56 L247 50 L242 46 L248 46Z" fill="#C4912A" opacity=".5"/>
      <path d="M550 35 L552 41 L558 41 L553 45 L555 51 L550 47 L545 51 L547 45 L542 41 L548 41Z" fill="#C4912A" opacity=".5"/>
      <path d="M200 30 L201.5 35 L207 35 L202.5 38 L204 43 L200 40 L196 43 L197.5 38 L193 35 L198.5 35Z" fill="#C4912A" opacity=".4"/>
      <path d="M600 25 L601.5 30 L607 30 L602.5 33 L604 38 L600 35 L596 38 L597.5 33 L593 30 L598.5 30Z" fill="#C4912A" opacity=".4"/>
    </svg>

    <!-- Bottom corner botanicals -->
    <svg class="hero-deco" style="bottom:80px;left:0;width:200px;opacity:.5" viewBox="0 0 200 180" fill="none">
      <path d="M10 180 C30 150, 60 130, 90 100 C110 80, 130 60, 150 20" stroke="#7A9E7A" stroke-width="2" fill="none"/>
      <circle cx="80" cy="110" r="14" fill="#D4807A"/>
      <circle cx="80" cy="110" r="7" fill="#FAF4E8" opacity=".9"/>
      <circle cx="50" cy="145" r="10" fill="#C06060"/>
      <circle cx="105" cy="82" r="8" fill="#C4912A"/>
      <circle cx="125" cy="58" r="9" fill="#7A9E7A"/>
      <ellipse cx="65" cy="128" rx="11" ry="5" fill="#7A9E7A" transform="rotate(-40 65 128)"/>
      <ellipse cx="90" cy="95" rx="9" ry="4" fill="#7A9E7A" transform="rotate(20 90 95)"/>
      <ellipse cx="115" cy="70" rx="10" ry="5" fill="#7A9E7A" transform="rotate(-15 115 70)"/>
    </svg>

    <svg class="hero-deco" style="bottom:80px;right:0;width:200px;opacity:.5" viewBox="0 0 200 180" fill="none">
      <path d="M190 180 C170 150, 140 130, 110 100 C90 80, 70 60, 50 20" stroke="#7A9E7A" stroke-width="2" fill="none"/>
      <circle cx="120" cy="110" r="14" fill="#C06060"/>
      <circle cx="120" cy="110" r="7" fill="#FAF4E8" opacity=".9"/>
      <circle cx="150" cy="145" r="10" fill="#D4807A"/>
      <circle cx="95" cy="82" r="8" fill="#7A9E7A"/>
      <circle cx="75" cy="58" r="9" fill="#C4912A"/>
      <ellipse cx="135" cy="128" rx="11" ry="5" fill="#7A9E7A" transform="rotate(40 135 128)"/>
      <ellipse cx="110" cy="95" rx="9" ry="4" fill="#7A9E7A" transform="rotate(-20 110 95)"/>
      <ellipse cx="85" cy="70" rx="10" ry="5" fill="#7A9E7A" transform="rotate(15 85 70)"/>
    </svg>

    <p class="hero-tag reveal">١٤٤٧ هـ — سحب الهدايا السري</p>
    <h1 class="hero-h1 reveal d1">العيدية<span>السرية</span></h1>
    <p class="hero-sub reveal d2">صبيحة عيد الفطر المبارك</p>
    <button class="btn-hero reveal d3" onclick="smoothTo('band')">اكتشف التفاصيل</button>

    <div class="scroll-cue">
      <span>مرر للأسفل</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- ─── BAND ─── -->
  <section class="band" id="band">
    <div class="band-inner">
      <p class="band-label reveal">تفاصيل الفعالية</p>
      <div class="band-grid">

        <div class="band-item reveal d1">
          <div class="ficon" style="background:#C06060">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="white">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
          </div>
          <div class="band-k">المكان</div>
          <div class="band-v">جلسة صباح العيد</div>
        </div>

        <div class="band-item reveal d2">
          <div class="ficon" style="background:#7A9E7A">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="white">
              <rect x="3" y="4" width="18" height="18" rx="3"/>
              <rect x="3" y="4" width="18" height="6" rx="3" fill="rgba(255,255,255,.3)"/>
              <rect x="7" y="1.5" width="2.5" height="5" rx="1.25"/>
              <rect x="14.5" y="1.5" width="2.5" height="5" rx="1.25"/>
              <rect x="6" y="13" width="3" height="3" rx=".7" fill="rgba(0,0,0,.2)"/>
              <rect x="10.5" y="13" width="3" height="3" rx=".7" fill="rgba(0,0,0,.2)"/>
              <rect x="15" y="13" width="3" height="3" rx=".7" fill="rgba(0,0,0,.2)"/>
            </svg>
          </div>
          <div class="band-k">التاريخ</div>
          <div class="band-v">صبيحة عيد الفطر ١٤٤٧</div>
        </div>

        <div class="band-item reveal d3">
          <div class="ficon" style="background:#C4912A">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="white">
              <circle cx="12" cy="12" r="10"/>
              <circle cx="12" cy="12" r="10" fill="rgba(255,255,255,.15)"/>
              <rect x="11" y="5" width="2" height="7" rx="1"/>
              <rect x="12" y="11.5" width="4.5" height="2" rx="1" transform="rotate(0 12 12)"/>
              <circle cx="12" cy="12" r="1.5" fill="white"/>
            </svg>
          </div>
          <div class="band-k">الوقت</div>
          <div class="band-v">١٠ ص — ١٢ ظهراً</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ─── SCROLL ARROW ─── -->
  <div class="scroll-arrow" style="background:var(--cream2)">
    <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
      <circle cx="18" cy="18" r="17" stroke="#C06060" stroke-width="1.2" opacity=".35"/>
      <path d="M12 16l6 6 6-6" stroke="#C06060" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <!-- ─── BUDGET ─── -->
  <section class="ch-budget">
    <!-- Scattered gold stars -->
    <svg style="position:absolute;inset:0;width:100%;height:100%;pointer-events:none" viewBox="0 0 800 500" preserveAspectRatio="xMidYMid slice">
      <path d="M80 80 L82 88 L90 88 L84 93 L86 101 L80 96 L74 101 L76 93 L70 88 L78 88Z" fill="#C4912A" opacity=".25"/>
      <path d="M720 120 L722 128 L730 128 L724 133 L726 141 L720 136 L714 141 L716 133 L710 128 L718 128Z" fill="#C4912A" opacity=".25"/>
      <path d="M150 380 L151.5 386 L158 386 L152.5 390 L154 396 L150 393 L146 396 L147.5 390 L142 386 L148.5 386Z" fill="#C4912A" opacity=".2"/>
      <path d="M650 350 L651.5 356 L658 356 L652.5 360 L654 366 L650 363 L646 366 L647.5 360 L642 356 L648.5 356Z" fill="#C4912A" opacity=".2"/>
      <path d="M400 60 L401.5 65 L407 65 L402.5 68 L404 73 L400 70 L396 73 L397.5 68 L393 65 L398.5 65Z" fill="#C4912A" opacity=".3"/>
    </svg>

    <p class="ch-tag reveal">قيمة العيدية</p>
    <div class="b-big reveal d1">200</div>
    <div class="b-unit reveal d2">ريال سعودي</div>
    <div class="b-pills reveal d3">
      <span class="b-pill">١٠٠ ريال من المنظمين</span>
      <span class="b-pill">١٠٠ ريال منك</span>
    </div>
    <p class="b-note reveal d4">لو نقص بنسبة لا تتجاوز ١٠٪ — اشتر مفرحات بالباقي.<br>تجاوز المبلغ ممنوع منعاً باتاً.</p>
  </section>

  <!-- ─── SCROLL ARROW ─── -->
  <div class="scroll-arrow" style="background:var(--cream)">
    <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
      <circle cx="18" cy="18" r="17" stroke="#C4912A" stroke-width="1.2" opacity=".4"/>
      <path d="M12 16l6 6 6-6" stroke="#C4912A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <!-- ─── RULES ─── -->
  <section class="ch-rules">
    <!-- Subtle side florals -->
    <svg style="position:absolute;left:0;top:10%;width:80px;opacity:.3;pointer-events:none" viewBox="0 0 80 300" fill="none">
      <path d="M40 300 C40 250, 30 200, 40 150 C50 100, 35 50, 40 0" stroke="#7A9E7A" stroke-width="1.5" fill="none"/>
      <circle cx="40" cy="240" r="9" fill="#C06060"/>
      <circle cx="36" cy="180" r="7" fill="#D4807A"/>
      <circle cx="44" cy="120" r="8" fill="#C4912A"/>
      <circle cx="38" cy="60" r="6" fill="#7A9E7A"/>
      <ellipse cx="26" cy="210" rx="8" ry="4" fill="#7A9E7A" transform="rotate(-30 26 210)"/>
      <ellipse cx="52" cy="150" rx="8" ry="4" fill="#7A9E7A" transform="rotate(25 52 150)"/>
    </svg>
    <svg style="position:absolute;right:0;top:10%;width:80px;opacity:.3;pointer-events:none" viewBox="0 0 80 300" fill="none">
      <path d="M40 300 C40 250, 50 200, 40 150 C30 100, 45 50, 40 0" stroke="#7A9E7A" stroke-width="1.5" fill="none"/>
      <circle cx="40" cy="240" r="9" fill="#D4807A"/>
      <circle cx="44" cy="180" r="7" fill="#C06060"/>
      <circle cx="36" cy="120" r="8" fill="#7A9E7A"/>
      <circle cx="42" cy="60" r="6" fill="#C4912A"/>
      <ellipse cx="54" cy="210" rx="8" ry="4" fill="#7A9E7A" transform="rotate(30 54 210)"/>
      <ellipse cx="28" cy="150" rx="8" ry="4" fill="#7A9E7A" transform="rotate(-25 28 150)"/>
    </svg>

    <div class="ch-rules-in">
      <div class="ch-head">
        <p class="ch-head-tag reveal">قبل ما تتحمس</p>
        <!-- Bow divider -->
        <div style="display:flex;align-items:center;justify-content:center;gap:.75rem;margin-bottom:1rem" class="reveal d1">
          <div style="flex:1;max-width:80px;height:1px;background:linear-gradient(to right,transparent,rgba(192,96,96,.35))"></div>
          <svg width="36" height="22" viewBox="0 0 36 22" fill="none">
            <path d="M18 11 C14 5, 6 3, 4 8 C2 13, 10 16, 18 11Z" fill="#C06060" opacity=".6"/>
            <path d="M18 11 C22 5, 30 3, 32 8 C34 13, 26 16, 18 11Z" fill="#C06060" opacity=".6"/>
            <circle cx="18" cy="11" r="3.5" fill="#C06060" opacity=".75"/>
          </svg>
          <div style="flex:1;max-width:80px;height:1px;background:linear-gradient(to left,transparent,rgba(192,96,96,.35))"></div>
        </div>
        <h2 class="ch-head-h reveal d1">الشروط والأحكام</h2>
      </div>

      <div class="rrow reveal">
        <span class="rn">01</span>
        <div class="ficon" style="background:#C06060;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <rect x="3" y="11" width="18" height="12" rx="3"/>
            <path d="M7 11V7.5a5 5 0 0110 0V11" stroke="white" stroke-width="2.5" stroke-linecap="round" fill="none"/>
            <circle cx="12" cy="17" r="2" fill="rgba(0,0,0,.2)"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">السرية التامة</div>
          <div class="rp">ممنوع إفشاء هوية الشخص السري أو نوع الهدية. نقل العلوم = خروج من المنافسة + نظرات استنكار جماعية موثقة.</div>
        </div>
      </div>

      <div class="rrow reveal">
        <span class="rn">02</span>
        <div class="ficon" style="background:#C4912A;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17.3l-6.2 4L8.2 13.9 2 9.4h7.6L12 2z"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">معايير الهدية</div>
          <div class="rp">ذات قيمة ومعنى — فيها إبداع — مختارة بعناية. مو أول شيء شفته عند الكاشير. اختر حسب شخصية الشخص لا حسب ذوقك أنت.</div>
        </div>
      </div>

      <div class="rrow reveal">
        <span class="rn">03</span>
        <div class="ficon" style="background:#8A70B8;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <circle cx="12" cy="12" r="10"/>
            <path d="M7 7l10 10M17 7L7 17" stroke="rgba(0,0,0,.25)" stroke-width="2.5" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">الممنوعات الرسمية هذا العام</div>
          <div class="chips">
            <span class="chip no">الهدايا المكررة</span>
            <span class="chip no">السبحات موقوفة</span>
            <span class="chip no">غير عملية</span>
            <span class="chip no">عطور مغامِرة</span>
            <span class="chip no">جودة منخفضة</span>
            <span class="chip no">كوبونات مساج / حمام</span>
          </div>
        </div>
      </div>

      <div class="rrow reveal">
        <span class="rn">04</span>
        <div class="ficon" style="background:#7A9E7A;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <path d="M4 12.5l5.5 5.5L20 7" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">مقترحات مقبولة</div>
          <div class="chips">
            <span class="chip yes">أغراض كشتات</span>
            <span class="chip yes">لوازم رحلات</span>
            <span class="chip yes">إكسسوارات جوال</span>
            <span class="chip yes">مستلزمات رياضية</span>
          </div>
        </div>
      </div>

      <div class="rrow reveal">
        <span class="rn">05</span>
        <div class="ficon" style="background:#D4807A;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <path d="M7 2L2 7l3 1v12a1 1 0 001 1h12a1 1 0 001-1V8l3-1-5-5s-1 3-5 3-5-3-5-3z"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">لبس العيد إلزامي عند التسليم</div>
          <div class="rp">للتوثيق والتاريخ. طريقة التقديم لازم يكون فيها حماس وإثارة — نبي لحظة كشف درامية. شارك مقاسك في القروب مسبقاً.</div>
        </div>
      </div>

      <div class="rrow reveal">
        <span class="rn">06</span>
        <div class="ficon" style="background:#5898C8;width:42px;height:42px;border-radius:11px;flex-shrink:0">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
            <path d="M20 2H4a2 2 0 00-2 2v14a2 2 0 002 2h4l4 4 4-4h4a2 2 0 002-2V4a2 2 0 00-2-2z"/>
            <rect x="7" y="9" width="10" height="2" rx="1" fill="rgba(0,0,0,.2)"/>
            <rect x="7" y="13" width="6" height="2" rx="1" fill="rgba(0,0,0,.2)"/>
          </svg>
        </div>
        <div class="rc">
          <div class="rh">ممنوع الطقطقة والإحراج</div>
          <div class="rp">نبي ضحك راقي — مو لجنة تحقيق. أجواء منافسة شريفة مليانة ذكريات حلوة.</div>
        </div>
      </div>

    </div>
  </section>

  <!-- ─── SCROLL ARROW ─── -->
  <div class="scroll-arrow" style="background:var(--cream2)">
    <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
      <circle cx="18" cy="18" r="17" stroke="#7A9E7A" stroke-width="1.2" opacity=".45"/>
      <path d="M12 16l6 6 6-6" stroke="#7A9E7A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <!-- ─── CLOSE ─── -->
  <section class="ch-close">
    <!-- Floral frame for closing -->
    <svg style="position:absolute;inset:0;width:100%;height:100%;pointer-events:none" viewBox="0 0 800 500" preserveAspectRatio="xMidYMid slice">
      <!-- Corner roses -->
      <circle cx="60" cy="60" r="20" fill="#D4807A" opacity=".25"/>
      <circle cx="60" cy="60" r="11" fill="#C06060" opacity=".2"/>
      <circle cx="740" cy="60" r="20" fill="#C4912A" opacity=".22"/>
      <circle cx="740" cy="60" r="11" fill="#C4912A" opacity=".18"/>
      <circle cx="60" cy="440" r="18" fill="#7A9E7A" opacity=".22"/>
      <circle cx="740" cy="440" r="18" fill="#D4807A" opacity=".22"/>
      <!-- Corner leaves -->
      <ellipse cx="88" cy="42" rx="14" ry="6" fill="#7A9E7A" opacity=".2" transform="rotate(-30 88 42)"/>
      <ellipse cx="38" cy="88" rx="14" ry="6" fill="#7A9E7A" opacity=".2" transform="rotate(60 38 88)"/>
      <ellipse cx="712" cy="42" rx="14" ry="6" fill="#7A9E7A" opacity=".2" transform="rotate(30 712 42)"/>
      <ellipse cx="762" cy="88" rx="14" ry="6" fill="#7A9E7A" opacity=".2" transform="rotate(-60 762 88)"/>
      <!-- Stars -->
      <path d="M400 30 L402 38 L410 38 L404 43 L406 51 L400 46 L394 51 L396 43 L390 38 L398 38Z" fill="#C4912A" opacity=".35"/>
      <path d="M200 80 L201.5 86 L208 86 L202.5 90 L204.5 96 L200 93 L195.5 96 L197.5 90 L192 86 L198.5 86Z" fill="#C4912A" opacity=".25"/>
      <path d="M600 80 L601.5 86 L608 86 L602.5 90 L604.5 96 L600 93 L595.5 96 L597.5 90 L592 86 L598.5 86Z" fill="#C4912A" opacity=".25"/>
    </svg>

    <p class="close-q reveal">
      اختار بضمير، اصرف المبلغ كامل،<br>
      وخلنا نعيش أجواء منافسة شريفة<br>
      مليانة ضحك وذكريات حلوة.
    </p>
    <p class="close-n reveal d1">عيدكم مبارك — واللي يجيب سبحة يتحمل المسؤولية</p>

    <!-- Bow above button -->
    <div class="reveal d1" style="margin-bottom:1.25rem">
      <svg width="60" height="36" viewBox="0 0 60 36" fill="none">
        <path d="M30 18 C24 8, 10 5, 7 13 C4 21, 16 26, 30 18Z" fill="#C06060" opacity=".55"/>
        <path d="M30 18 C36 8, 50 5, 53 13 C56 21, 44 26, 30 18Z" fill="#C06060" opacity=".55"/>
        <circle cx="30" cy="18" r="5.5" fill="#C06060" opacity=".7"/>
        <path d="M30 18 Q28 28 22 32" stroke="#C06060" stroke-width="1.5" fill="none" opacity=".4"/>
        <path d="M30 18 Q32 28 38 32" stroke="#C06060" stroke-width="1.5" fill="none" opacity=".4"/>
      </svg>
    </div>

    <button class="btn reveal d2" onclick="showScreen('screen-select')" style="margin:0 auto">ابدأ السحب الآن</button>
  </section>

</div><!-- /screen-info -->


<!-- ══════════════════════ SCREEN 2: SELECT ══════════════════════ -->
<div class="screen" id="screen-select">
  <!-- Floral top decoration -->
  <svg style="position:absolute;top:0;left:0;right:0;width:100%;pointer-events:none;opacity:.35" viewBox="0 0 800 120" fill="none" preserveAspectRatio="xMidYMin slice">
    <path d="M0 120 C100 80, 200 60, 300 40 C400 20, 500 10, 600 30 C700 50, 750 80, 800 120" fill="none" stroke="#7A9E7A" stroke-width="1.5"/>
    <circle cx="150" cy="70" r="10" fill="#C06060"/>
    <circle cx="300" cy="40" r="8" fill="#C4912A"/>
    <circle cx="450" cy="25" r="9" fill="#D4807A"/>
    <circle cx="600" cy="38" r="8" fill="#7A9E7A"/>
    <circle cx="720" cy="65" r="10" fill="#C06060"/>
  </svg>

  <div class="sel-top">
    <p style="font-family:'Readex Pro',sans-serif;font-size:.68rem;letter-spacing:.3em;text-transform:uppercase;color:var(--rose);margin-bottom:.6rem">الخطوة الأولى</p>
    <h2>اختر اسمك</h2>
    <p>اضغط على اسمك أنت فقط</p>
  </div>
  <div class="names-grid" id="names-grid"></div>
  <button class="btn-ghost" style="margin-top:2rem" onclick="showScreen('screen-info')">رجوع للرئيسية</button>
</div>


<!-- ══════════════════════ SCREEN 3: PIN ══════════════════════ -->
<div class="screen" id="screen-pin">
  <div class="pin-card">
    <div class="pin-greet">مرحباً</div>
    <div class="pin-name" id="pin-name-display"></div>
    <div class="pin-inst">أدخل الرقم السري الخاص بك<br>الذي أرسله لك المنظم</div>
    <div class="pin-row" id="pin-row">
      <input class="pin-d" maxlength="1" inputmode="numeric" pattern="[0-9]" autocomplete="off" id="d0">
      <input class="pin-d" maxlength="1" inputmode="numeric" pattern="[0-9]" autocomplete="off" id="d1">
      <input class="pin-d" maxlength="1" inputmode="numeric" pattern="[0-9]" autocomplete="off" id="d2">
      <input class="pin-d" maxlength="1" inputmode="numeric" pattern="[0-9]" autocomplete="off" id="d3">
    </div>
    <div class="pin-err" id="pin-err"></div>
    <button class="btn sm" style="margin:0 auto .3rem" onclick="checkPin()">تأكيد</button>
    <button class="btn-ghost" style="margin-top:.5rem;display:block;width:100%;text-align:center" onclick="showScreen('screen-select')">تغيير الاسم</button>
  </div>
</div>


<!-- ══════════════════════ SCREEN 4: ROULETTE ══════════════════════ -->
<div class="screen" id="screen-roulette">
  <h2>جاري السحب...</h2>
  <div class="wheel-outer">
    <div class="wring"></div>
    <div class="wring r2"></div>
    <div class="orbit-dot" id="orbit-dot"></div>
    <div class="wcenter">
      <div class="wtext" id="w-text">?</div>
    </div>
  </div>
  <p class="spin-lbl">القرعة جارية</p>
</div>


<!-- ══════════════════════ SCREEN 5: REVEAL ══════════════════════ -->
<div class="screen" id="screen-reveal">
  <div class="confetti-wrap" id="confetti"></div>

  <!-- Floral reveal background -->
  <svg style="position:absolute;inset:0;width:100%;height:100%;pointer-events:none;opacity:.2" viewBox="0 0 400 700" preserveAspectRatio="xMidYMid slice">
    <circle cx="30" cy="100" r="18" fill="#C06060"/>
    <circle cx="370" cy="150" r="15" fill="#D4807A"/>
    <circle cx="50" cy="600" r="16" fill="#7A9E7A"/>
    <circle cx="360" cy="550" r="18" fill="#C4912A"/>
    <ellipse cx="20" cy="125" rx="14" ry="6" fill="#7A9E7A" transform="rotate(-40 20 125)"/>
    <ellipse cx="55" cy="80" rx="12" ry="5" fill="#7A9E7A" transform="rotate(20 55 80)"/>
    <ellipse cx="380" cy="175" rx="12" ry="5" fill="#7A9E7A" transform="rotate(40 380 175)"/>
    <ellipse cx="345" cy="130" rx="14" ry="6" fill="#7A9E7A" transform="rotate(-20 345 130)"/>
  </svg>

  <div class="rev-wrap">
    <p class="rev-label">نتيجة السحب</p>
    <div class="rev-card">
      <div class="rl">أنت</div>
      <div class="rself" id="r-self"></div>
      <svg class="rarrow" width="30" height="30" viewBox="0 0 30 30" fill="none">
        <path d="M15 5v20M7 17l8 8 8-8" stroke="#C06060" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div class="rl" style="margin-bottom:.35rem">ستهدي</div>
      <div class="rname" id="r-name"></div>
      <div class="rhint">احتفظ بالاسم سراً حتى يوم العيد<br>لبس العيد إلزامي عند التسليم للتوثيق</div>
    </div>
    <button class="btn" style="margin:0 auto .75rem" onclick="showScreen('screen-info')">رجوع للرئيسية</button>
    <button class="btn-ghost" style="display:block;width:100%;text-align:center" onclick="showScreen('screen-select')">سحب شخص آخر</button>
  </div>
</div>


<script>
const DATA = {
  'يزيد':      { r:'حمد',        p:'3847' },
  'فياض':      { r:'عمر',        p:'9261' },
  'فيصل':      { r:'باسل',       p:'5034' },
  'حمد':       { r:'عبدالملك',   p:'7182' },
  'عبدالله':   { r:'فياض',       p:'2956' },
  'عبدالعزيز': { r:'بسام',       p:'8473' },
  'فارس':      { r:'نواف',       p:'1629' },
  'نواف':      { r:'عبدالعزيز',  p:'4815' },
  'حسام':      { r:'ريان',       p:'7340' },
  'ريان':      { r:'فارس',       p:'2683' },
  'هشام':      { r:'حسام',       p:'9157' },
  'عبدالملك':  { r:'يزيد',       p:'5492' },
  'بسام':      { r:'فيصل',       p:'8026' },
  'باسل':      { r:'هشام',       p:'3718' },
  'عموري':     { r:'عبدالله',    p:'6541' },
};
const allNames = Object.keys(DATA);
let selectedName = null, raf = null;

/* Scroll reveal */
const io = new IntersectionObserver(entries => {
  entries.forEach(e => { if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); }});
}, { threshold:.1, rootMargin:'0px 0px -40px 0px' });
document.querySelectorAll('.reveal').forEach(el => io.observe(el));

/* Nav */
window.addEventListener('scroll', () => {
  document.getElementById('nav').classList.toggle('solid', window.scrollY > 50);
});
function smoothTo(id){ document.getElementById(id)?.scrollIntoView({behavior:'smooth'}); }

/* Screen manager */
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0,0);
  if(id==='screen-info'){
    document.querySelectorAll('.reveal').forEach(el=>{ el.classList.remove('visible'); io.observe(el); });
    setTimeout(()=>document.querySelectorAll('.hero .reveal').forEach(el=>el.classList.add('visible')),60);
  }
}

/* Name grid */
const grid = document.getElementById('names-grid');
allNames.forEach(n=>{
  const b=document.createElement('button');
  b.className='name-btn'; b.textContent=n;
  b.onclick=()=>selectName(n);
  grid.appendChild(b);
});

/* PIN */
function selectName(name){
  selectedName=name;
  document.getElementById('pin-name-display').textContent=name;
  ['d0','d1','d2','d3'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('pin-err').textContent='';
  showScreen('screen-pin');
  setTimeout(()=>document.getElementById('d0').focus(),300);
}
['d0','d1','d2','d3'].forEach((id,i)=>{
  const el=document.getElementById(id);
  el.addEventListener('input',()=>{
    el.value=el.value.replace(/\D/g,'');
    if(el.value&&i<3) document.getElementById(['d0','d1','d2','d3'][i+1]).focus();
  });
  el.addEventListener('keydown',e=>{
    if(e.key==='Backspace'&&!el.value&&i>0) document.getElementById(['d0','d1','d2','d3'][i-1]).focus();
    if(e.key==='Enter') checkPin();
  });
});

function checkPin(){
  const entered=['d0','d1','d2','d3'].map(id=>document.getElementById(id).value).join('');
  const err=document.getElementById('pin-err');
  const row=document.getElementById('pin-row');
  if(entered.length<4){ err.textContent='أدخل الرقم السري كاملاً'; shake(row); return; }
  if(entered!==DATA[selectedName].p){
    err.textContent='الرقم السري غلط، حاول مرة ثانية';
    ['d0','d1','d2','d3'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('d0').focus();
    shake(row); return;
  }
  err.textContent='';
  startRoulette();
}
function shake(el){
  el.classList.remove('shake'); void el.offsetWidth; el.classList.add('shake');
  setTimeout(()=>el.classList.remove('shake'),500);
}

/* Roulette */
function startRoulette(){
  showScreen('screen-roulette');
  const txt=document.getElementById('w-text');
  const dot=document.getElementById('orbit-dot');
  const target=DATA[selectedName].r;
  const shuffled=[...allNames].sort(()=>Math.random()-.5);
  let angle=0;
  const r=120, cx=135, cy=135;
  function orbit(){
    angle+=6;
    const rad=angle*Math.PI/180;
    dot.style.left=(cx+r*Math.cos(rad)-5.5)+'px';
    dot.style.top =(cy+r*Math.sin(rad)-5.5)+'px';
    raf=requestAnimationFrame(orbit);
  }
  orbit();
  let step=0,delay=75,total=34;
  function spin(){
    if(step<total){
      txt.textContent=shuffled[step%shuffled.length];
      if(step>26) delay+=55; else if(step>20) delay+=18;
      step++; setTimeout(spin,delay);
    } else {
      txt.textContent=target;
      cancelAnimationFrame(raf);
      setTimeout(showReveal,950);
    }
  }
  setTimeout(spin,400);
}

/* Reveal */
function showReveal(){
  document.getElementById('r-self').textContent=selectedName;
  document.getElementById('r-name').textContent=DATA[selectedName].r;
  showScreen('screen-reveal');
  launchConfetti();
}

function launchConfetti(){
  const wrap=document.getElementById('confetti'); wrap.innerHTML='';
  const cols=['#C06060','#D4807A','#C4912A','#F0D898','#7A9E7A','#D4E8D0','#8A70B8','#FAF4E8'];
  for(let i=0;i<90;i++){
    const p=document.createElement('div'); p.className='piece';
    const sz=Math.random()*11+4, col=cols[Math.floor(Math.random()*cols.length)];
    const shape=Math.random()>.4?'50%':'3px';
    p.style.cssText=`left:${Math.random()*100}vw;width:${sz}px;height:${sz}px;
      background:${col};border-radius:${shape};
      animation:fall ${Math.random()*2+1.5}s linear ${Math.random()*.9}s forwards;
      transform:rotate(${Math.random()*360}deg)`;
    wrap.appendChild(p);
  }
}

setTimeout(()=>document.querySelectorAll('.hero .reveal').forEach(el=>el.classList.add('visible')),80);
</script>
</body>
</html>
